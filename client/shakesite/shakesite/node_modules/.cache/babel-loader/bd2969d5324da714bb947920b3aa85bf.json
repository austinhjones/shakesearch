{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/q1441357/repos/shakesite/shakesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/q1441357/repos/shakesite/shakesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/q1441357/repos/shakesite/shakesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/q1441357/repos/shakesite/shakesite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import{Form,Button,Row,Container,Col,Card}from'react-bootstrap';var endpoint=\"http://localhost:3001\";var ShakeSite=/*#__PURE__*/function(_Component){_inherits(ShakeSite,_Component);var _super=_createSuper(ShakeSite);function ShakeSite(props){var _this;_classCallCheck(this,ShakeSite);_this=_super.call(this,props);_this.onChangeSearchString=function(e){e.preventDefault();_this.setState({searchString:e.target.value});};_this.onSubmit=function(e){e.preventDefault();axios.post(endpoint+\"/search\",null,{params:{q:_this.state.searchString}}).then(function(response){console.log(response);_this.setState({searchResults:response.data});});};_this.displayList=function(){return _this.state.searchResults.map(function(result){return/*#__PURE__*/_jsx(Button,{className:\"m-1\",variant:\"light\",size:\"sm\",onClick:function onClick(){_this.searchResultOnClick(result[1]);},children:_this.withNewlines(result[0])});});};_this.searchResultOnClick=function(lineNumber){axios.post(endpoint+\"/getLineContext\",null,{params:{q:lineNumber}}).then(function(response){console.log(response);_this.setState({selectedLineContext:response.data});});};_this.withNewlines=function(text){return text.split('\\n').map(function(i){return/*#__PURE__*/_jsx(\"p\",{children:i});});};_this.state={searchString:'',searchResults:[['shakesearch',1]],selectedLineContext:''};return _this;}_createClass(ShakeSite,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsxs(Row,{className:\"show-grid\",children:[/*#__PURE__*/_jsxs(Col,{style:{'max-height':'calc(100vh)','overflow-y':'auto'},children:[/*#__PURE__*/_jsx(Row,{className:\"m-1\",children:/*#__PURE__*/_jsx(Container,{fluid:true,children:/*#__PURE__*/_jsx(Form,{onSubmit:this.onSubmit,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"searchbar\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Shakesearch!\"}),/*#__PURE__*/_jsx(Form.Control,{value:this.state.searchString,type:\"text\",placeholder:\"What art thee looking f'r\",onChange:this.onChangeSearchString})]})})})}),this.displayList()]}),/*#__PURE__*/_jsx(Col,{style:{'max-height':'calc(100vh)','overflow-y':'auto'},children:/*#__PURE__*/_jsx(Card,{fluid:true,className:\"m-1\",children:/*#__PURE__*/_jsx(Card.Body,{children:this.withNewlines(this.state.selectedLineContext)})})})]})});}}]);return ShakeSite;}(Component);export default ShakeSite;","map":{"version":3,"sources":["/Users/q1441357/repos/shakesite/shakesite/src/shakesite.js"],"names":["React","Component","axios","Form","Button","Row","Container","Col","Card","endpoint","ShakeSite","props","onChangeSearchString","e","preventDefault","setState","searchString","target","value","onSubmit","post","params","q","state","then","response","console","log","searchResults","data","displayList","map","result","searchResultOnClick","withNewlines","lineNumber","selectedLineContext","text","split","i"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Form, Button, Row, Container, Col, Card} from 'react-bootstrap';\n\nlet endpoint = \"http://localhost:3001\";\n\nclass ShakeSite extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchString: '',\n      searchResults: [['shakesearch',1]],\n      selectedLineContext: ''\n    };\n\n  }\n\n    onChangeSearchString = (e) => {\n        e.preventDefault();\n        this.setState({searchString: e.target.value})\n    }\n\n    onSubmit = (e) => {\n      e.preventDefault();\n      axios.post(endpoint + \"/search\", null, \n      {\n          params: {q: this.state.searchString}\n      }).then((response) => { \n          console.log(response);\n          this.setState({searchResults: response.data});\n        })\n    };\n\n    displayList = () =>\n        this.state.searchResults.map(result => \n                                                    <Button \n                                                        className='m-1' \n                                                        variant=\"light\" \n                                                        size=\"sm\" \n                                                        onClick={() => {this.searchResultOnClick(result[1])}}\n                                                    >\n                                                        {this.withNewlines(result[0])}\n                                                    </Button>\n                                                )\n    \n    searchResultOnClick = (lineNumber) => {\n        axios.post(endpoint + \"/getLineContext\", null, \n        {\n            params: {q: lineNumber}\n        }).then((response) => { \n            console.log(response);\n            this.setState({selectedLineContext: response.data});\n          })\n    }\n            \n    withNewlines = (text) => text.split('\\n').map(i => {\n        return <p>{i}</p>\n    });\n\n  render() {\n    return (\n        <Container fluid>\n            <Row className=\"show-grid\">\n                <Col\n                    style={{'max-height': 'calc(100vh)', 'overflow-y': 'auto'}}\n\n                >\n                    <Row className=\"m-1\">\n                        <Container fluid>\n                            <Form onSubmit={this.onSubmit}>\n                                <Form.Group controlId=\"searchbar\">\n                                    <Form.Label>Shakesearch!</Form.Label>\n                                    <Form.Control \n                                        value={this.state.searchString}\n                                        type=\"text\" \n                                        placeholder=\"What art thee looking f'r\" \n                                        onChange={this.onChangeSearchString}\n                                    />\n                                </Form.Group>\n                            </Form>\n                        </Container>\n                    </Row>\n                    {this.displayList()}\n\n                </Col>\n\n                <Col\n                    style={{'max-height': 'calc(100vh)', 'overflow-y': 'auto'}}\n                >\n                    <Card fluid className=\"m-1\">\n                        <Card.Body>\n                            {this.withNewlines(this.state.selectedLineContext)}\n                        </Card.Body>    \n                    </Card>\n                </Col>\n            </Row>\n            \n        </Container>\n    );\n  }\n}\n\nexport default ShakeSite;"]},"metadata":{},"sourceType":"module"}